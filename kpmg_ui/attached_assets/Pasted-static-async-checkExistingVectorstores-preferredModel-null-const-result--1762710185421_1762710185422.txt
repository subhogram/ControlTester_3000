static async checkExistingVectorstores(preferredModel = null) {
        const result = {
            general: { exists: false, path: null, vector_count: 0, last_modified: null },
            company: { exists: false, path: null, vector_count: 0, last_modified: null }
        };

        try {
            let modelName = preferredModel;
            if (!modelName) {
                const models = await this.getModels();
                modelName = models?.[0] || "llama2";
            }

            const checks = [
                { type: "general", path: "saved_global_vectorstore", kb_type: "global" },
                { type: "company", path: "saved_company_vectorstore", kb_type: "company" }
            ];

            for (const check of checks) {
                try {
                    const form = new FormData();
                    form.append("dir_path", check.path);
                    form.append("kb_type", check.kb_type);
                    form.append("model_name", modelName);

                    const resp = await fetch(`${this.baseUrl}/load-vectorstore`, { method: "POST", body: form });

                    if (resp.ok) {
                        const data = await resp.json();
                        if (data?.success) {
                            result[check.type] = {
                                exists: true,
                                path: check.path,
                                vector_count: data.ntotal ?? data.vector_count ?? 0,
                                last_modified: new Date().toISOString()
                            };
                        } else {
                        }
                    } else {
                        await resp.text();
                    }
                } catch (e) {
                    // ignore
                }
            }

            return result;
        } catch (e) {
            // Return a conservative default (no mocks) to avoid confusing UI
            return result;
        }
    }